<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Roaring Web</title>
    <style>
        /* RESET & BASE */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #000000;
            color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            text-align: center;
        }

        /* UTILITY */
        .hidden {
            display: none !important;
        }

        /* MAIN SITE LAYOUT */
        #main-site {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            margin-bottom: 4rem;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            font-weight: 700;
            letter-spacing: -1px;
        }

        .games-container {
            background: #111;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
            text-align: left;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }

        /* NEW CARD STYLES */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .game-card {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .game-card:hover {
            transform: translateY(-5px);
            background: #252525;
            border-color: #555;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        .game-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        .game-title {
            font-weight: 600;
            font-size: 1.1rem;
            color: #eee;
        }

        .game-desc {
            font-size: 0.8rem;
            color: #888;
            margin-top: 5px;
        }

        footer {
            margin-top: auto;
            padding: 20px;
            color: #444;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>

    <div id="main-site">
        <header>
            <h1>The Roaring Web</h1>
            <p style="color: #666;">Welcome back.</p>
        </header>

        <main>
            <div class="games-container">
                <div class="section-title">Library</div>
                
                <div class="games-grid">
                    <div class="game-card" onclick="launchGame('example.html')">
                        <span class="game-icon">ðŸŽ®</span>
                        <div class="game-title">Example Game</div>
                        <div class="game-desc">Click to launch cloaked</div>
                    </div>
                </div>
            </div>

            <div class="games-container">
                <div class="section-title">Updates</div>
                <p style="color: #888; font-size: 0.9rem;">System is online. Check back later for content.</p>
            </div>
        </main>

        <footer>
            &copy; The Roaring Web
        </footer>
    </div>

    <script>
        // --- Game Launch Function ---
        function launchGame(filename) {
            const gamePath = 'GameFiles/' + filename;
            const fullURL = new URL(gamePath, window.location.href).href;

            const win = window.open();
            if (!win) {
                alert("Pop-up blocked! Please allow pop-ups for this site.");
                return;
            }

            const htmlContent = `
                <!DOCTYPE html>
                <html style="margin:0; height:100%; overflow:hidden;">
                <head>
                    <title>Classes</title> 
                    <link rel="icon" href="https://ssl.gstatic.com/classroom/favicon.png">
                </head>
                <body style="margin:0; height:100%; overflow:hidden; background-color:black;">
                    <iframe 
                        src="${fullURL}" 
                        style="border:none; width:100%; height:100%; display:block;" 
                        allowfullscreen>
                    </iframe>
                </body>
                </html>
            `;

            win.document.open();
            win.document.write(htmlContent);
            win.document.close();
        }

        // --- Inactivity Logic ---
        (function() {
            let timeout;
            const INACTIVITY_LIMIT = 5000; // 5 seconds in milliseconds
            const REDIRECTION_URL = 'https://archiveofourown.org/works/70737641/chapters/183875526'; // PLACEHOLDER: Put your link here

            function resetTimer() {
                clearTimeout(timeout);
                timeout = setTimeout(() => {
                    // Opens the placeholder link in a new tab
                    window.open(REDIRECTION_URL, '_blank');
                }, INACTIVITY_LIMIT);
            }

            // Listen for any activity
            window.onload = resetTimer;
            document.onmousemove = resetTimer;
            document.onkeydown = resetTimer;
            document.onscroll = resetTimer;
            document.onclick = resetTimer;
        })();
    </script>

</body>
</html>
